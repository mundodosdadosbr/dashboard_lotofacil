Essa função não seria assim?

def validate_file(filename, header, bank_type):
    logger.info(f"Validating file {filename} for bank type {bank_type}")
    
    # Verificar se filename é uma string
    if not isinstance(filename, str):
        logger.error(f'Filename is not a string: {filename}')
        return False, None

    # Verificar se o arquivo é .txt
    if not filename.endswith('.txt'):
        logger.error(f'Filename does not end with .txt: {filename}')
        return False, None
    
    # Verificar se o header está em branco
    if not header.strip():
        logger.error(f'Header is empty for filename: {filename}')
        return False, None

    # Verificações específicas para cada banco
    if bank_type == "Bradesco":
        if len(header) != 53:
            logger.error(f'Invalid header length for Bradesco: {len(header)}')
            return False, None
        if header[17] != '0':
            logger.error(f'Invalid header at position 17 for Bradesco: {header[17]}')
            return False, None
        if not header[18:31].isdigit():
            logger.error(f'Invalid digits in header for Bradesco: {header[17:31]}')
            return False, None
        cnpj_part = '0' + header[18:31]
    elif bank_type == "Banco do Brasil":
        if len(header) != 36:
            logger.error(f'Invalid header length for Banco do Brasil: {len(header)}')
            return False, None
        if not header[15:28].isdigit():
            logger.error(f'Invalid digits in header for Banco do Brasil: {header[15:28]}')
            return False, None
        cnpj_part = header[15:22]
    else:
        logger.error(f'Unknown bank type: {bank_type}')
        return False, None

    logger.info(f'File {filename} validated successfully for bank type {bank_type}')
    return True, cnpj_part
